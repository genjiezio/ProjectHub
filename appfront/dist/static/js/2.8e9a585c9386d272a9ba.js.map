{"version":3,"sources":["webpack:///src/components/MarkTemplate/uploadTemplate.vue","webpack:///./src/components/MarkTemplate/uploadTemplate.vue?58cc","webpack:///./src/components/MarkTemplate/uploadTemplate.vue","webpack:///src/components/MarkTemplate/MarkTemplate.vue","webpack:///./src/components/MarkTemplate/MarkTemplate.vue?47eb","webpack:///./src/components/MarkTemplate/MarkTemplate.vue"],"names":["uploadTemplate","name","props","data","childrenCla","childrenPro","url","uploadUrl","cla","this","proid","tid","$route","query","qtid","created","watch","pro","val","undefined","console","log","methods","onSuccess","response","file","fileList","_this","$message","status","msg","axios_default","a","post","params","then","res","tableData","i","length","$set","MarkTemplate_uploadTemplate","render","_h","$createElement","_c","_self","staticClass","staticStyle","display","margin-left","attrs","action","on-success","type","_v","staticRenderFns","components_MarkTemplate_uploadTemplate","__webpack_require__","normalizeComponent","ssrContext","MarkTemplate","components","HeadLine","TeacherHeadLine","pageEnd","fullScore","desc","isEdit","multipleSelection","classes","pros","headers","X-CSRFToken","document","cookie","split","cancelSelect","$refs","multipleTable","clearSelection","handleSelectionChange","rows","_this2","forEach","row","push","deleteDone","_this3","_loop","splice","toAdd","id","update","_this4","class","editDone","_this5","MarkTemplate_MarkTemplate","_vm","text-align","font-size","color","margin","width","placeholder","model","value","callback","$$v","expression","_l","item","key","$index","label","float","on","change","click","$event","ref","tooltip-effect","selection-change","prop","scopedSlots","_u","fn","scope","size","_s","MarkTemplate_Component","MarkTemplate_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/2.8e9a585c9386d272a9ba.js","sourcesContent":["<template>\n  <el-upload\n    class=\"upload-demo\"\n    :action=\"this.url + this.uploadUrl\"\n    :data=\"this.data\"\n    :on-success=\"onSuccess\"\n    style=\"display: inline-block; margin-left: 2%\"\n  >\n    <el-button type=\"text\">上传评分模板文件</el-button>\n  </el-upload>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"uploadTemplate\",\n  props: [\"tableData\", \"cla\", \"pro\"],\n  data() {\n    return {\n      childrenCla: \"\",\n      childrenPro: 1,\n      url: \"\",\n      uploadUrl: \"/teacher_api/upload_mark_file\",\n      data: {\n        cla: this.childrenCla,\n        proid: this.childrenPro,\n        tid: this.$route.query.qtid,\n      },\n    };\n  },\n  created() {\n    this.url = \"http://127.0.0.1:8000\";\n  },\n  watch: {\n    pro(val) {\n      if (val !== undefined) {\n        this.childrenPro = val;\n        this.data.proid = this.childrenPro;\n        console.log(this.childrenPro);\n      }\n    },\n  },\n\n  methods: {\n    onSuccess(response, file, fileList) {\n      this.$message(response.status + \":\" + response.msg);\n      if (response.status === 200) {\n        axios\n          .post(\"/teacher_api/upload_mark_temp\", {\n            params: {\n              tid: this.$route.query.qtid,\n              cla: this.childrenCla,\n              proid: this.childrenPro,\n            },\n          })\n          .then((res) => {\n            if (res.data.tableData) {\n              for (let i = 0; i < res.data.tableData.length; i++) {\n                this.$set(this.tableData, i, res.data.tableData[i]);\n              }\n            }\n          });\n      } else {\n        this.$message(\"请选择课程和Project\");\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MarkTemplate/uploadTemplate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-upload',{staticClass:\"upload-demo\",staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"2%\"},attrs:{\"action\":this.url + this.uploadUrl,\"data\":this.data,\"on-success\":_vm.onSuccess}},[_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"上传评分模板文件\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-052717a7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MarkTemplate/uploadTemplate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-052717a7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./uploadTemplate.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./uploadTemplate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./uploadTemplate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-052717a7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./uploadTemplate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-052717a7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MarkTemplate/uploadTemplate.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"mark\">\r\n    <el-container class=\"all-background\">\r\n      <el-header style=\"text-align: left; font-size: 20px; color: #ffff\">\r\n        <el-row style=\"margin: auto 15%\">\r\n          <HeadLine v-bind:id=\"this.query\"></HeadLine>\r\n        </el-row>\r\n      </el-header>\r\n\r\n      <el-main>\r\n        <div class=\"main-class\">\r\n          <br />\r\n          <div style=\"margin: 0.5% 3%; width: 94%\">\r\n            <el-select v-model=\"cla\" placeholder=\"请选择课程\" style=\"width: 48%\">\r\n              <el-option v-for=\"item in classes\" :key=\"item.$index\" :label=\"item\" :value=\"item\">\r\n              </el-option>\r\n            </el-select>\r\n            <el-select v-model=\"pro\" placeholder=\"请选择Project\" style=\"float: right; width: 48%\" @change=\"update\">\r\n              <el-option v-for=\"(val, key) in pros[cla]\" :key=\"key\" :label=\"val.name\" :value=\"val.id\">\r\n              </el-option>\r\n            </el-select>\r\n          </div>\r\n          <div style=\"margin: 0.5% 3%; width: 96%\">\r\n            <el-button @click=\"isEdit = true\" type=\"text\"> 编辑 </el-button>\r\n            <el-button @click=\"toAdd\" type=\"text\"> 添加 </el-button>\r\n            <el-button @click=\"cancelSelect\" type=\"text\">取消选择</el-button>\r\n            <el-button @click=\"editDone\" type=\"text\"> 完成 </el-button>\r\n            <el-button @click=\"deleteDone\" type=\"text\"> 删除 </el-button>\r\n            <uploadTemplate v-bind:tableData=\"tableData\" v-bind:cla=\"cla\" v-bind:pro=\"pro\"></uploadTemplate>\r\n          </div>\r\n          <el-table ref=\"multipleTable\" :data=\"tableData\" tooltip-effect=\"dark\" style=\"width: 96%; margin: auto 2%\"\r\n            @selection-change=\"handleSelectionChange\">\r\n            <el-table-column type=\"selection\" width=\"55\"> </el-table-column>\r\n            <el-table-column prop=\"name\" label=\"名称\" width=\"120\">\r\n              <template slot-scope=\"scope\">\r\n                <div class=\"input-box\" v-if=\"isEdit\">\r\n                  <el-input size=\"small\" v-model=\"scope.row.name\"></el-input>\r\n                </div>\r\n                <span v-else>{{ scope.row.name }}</span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"fullScore\" label=\"总分\" width=\"100\">\r\n              <template slot-scope=\"scope\">\r\n                <div class=\"input-box\" v-if=\"isEdit\">\r\n                  <el-input size=\"small\" v-model=\"scope.row.fullScore\"></el-input>\r\n                </div>\r\n                <span v-else>{{ scope.row.fullScore }}</span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"desc\" label=\"描述\" width=\"300\">\r\n              <template slot-scope=\"scope\">\r\n                <div class=\"input-box\" v-if=\"isEdit\">\r\n                  <el-input size=\"small\" v-model=\"scope.row.desc\"></el-input>\r\n                </div>\r\n                <span v-else>{{ scope.row.desc }}</span>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </el-main>\r\n      <el-footer>\r\n        <page-end></page-end>\r\n      </el-footer>\r\n    </el-container>\r\n  </div>\r\n</template>>\r\n\r\n<script>\r\n  import HeadLine from \"../TeacherHeadLine\";\r\n  import pageEnd from \"../pageEnd\";\r\n  import axios from \"axios\";\r\n  import uploadTemplate from \"./uploadTemplate\";\r\n  export default {\r\n    components: {\r\n      HeadLine,\r\n      pageEnd,\r\n      uploadTemplate\r\n    },\r\n    data() {\r\n      return {\r\n        tableData: [{\r\n            name: \"\",\r\n            fullScore: undefined,\r\n            desc: \"\",\r\n          }, \r\n        ],\r\n        isEdit: false,\r\n        multipleSelection: [],\r\n        classes: [\"\"],\r\n        pros: {\r\n          \r\n        },\r\n        query: \"\",\r\n        cla: \"\",\r\n        pro: \"\",\r\n      };\r\n    },\r\n    created() {\r\n      this.query = this.$route.query.qtid;\r\n      axios\r\n        .post(\"/teacher_api/get_class_pro\", {\r\n          tid: this.query,\r\n        }, {\r\n          headers: {\r\n            \"X-CSRFToken\": document.cookie.split(\"=\")[1],\r\n          },\r\n        })\r\n        .then((res) => {\r\n          this.tableData = [{\r\n            name: \"\",\r\n            fullScore: undefined,\r\n            desc: \"\",\r\n          }, ];\r\n          this.classes = res.data.classes;\r\n          this.pros = res.data.pros;\r\n        });\r\n      this.cla = \"\";\r\n      this.pro = \"\";\r\n    },\r\n    methods: {\r\n      cancelSelect() {\r\n        this.$refs.multipleTable.clearSelection();\r\n      },\r\n      handleSelectionChange(rows) {\r\n        rows.forEach((row) => {\r\n          this.multipleSelection.push(row.name);\r\n        });\r\n      },\r\n      deleteDone() {\r\n        for (let i in this.tableData) {\r\n          this.multipleSelection.forEach((row) => {\r\n            if (row === this.tableData[i].name) {\r\n              this.tableData.splice(i, 1);\r\n            }\r\n          });\r\n        }\r\n      },\r\n      toAdd() {\r\n        this.isEdit = true;\r\n        this.tableData.push({\r\n          id: undefined,\r\n          name: \"\",\r\n          fullScore: \"\",\r\n          desc: \"\",\r\n        });\r\n      },\r\n      update() {\r\n        axios\r\n          .post(\"/teacher_api/update_temp\", {\r\n            tid: this.query,\r\n            class: this.cla,\r\n            proid: this.pro,\r\n          }, {\r\n            headers: {\r\n              \"X-CSRFToken\": document.cookie.split(\"=\")[1],\r\n            },\r\n          })\r\n          .then((res) => {\r\n            if (res.data.status === 200) {\r\n              this.tableData = res.data.tableData;\r\n            } else {\r\n              this.$message(res.data.msg);\r\n            }\r\n          });\r\n      },\r\n      editDone() {\r\n        console.log(this.tableData);\r\n        if (this.cla === \"\" || this.pro === \"\") {\r\n          this.$message(\"请选择课程和Project\");\r\n          return;\r\n        }\r\n        this.isEdit = false;\r\n        axios\r\n          .post(\"/teacher_api/edit_temp\", {\r\n            tid: this.query,\r\n            tableData: this.tableData,\r\n            class: this.cla,\r\n            proid: this.pro,\r\n          }, {\r\n            headers: {\r\n              \"X-CSRFToken\": document.cookie.split(\"=\")[1],\r\n            },\r\n          })\r\n          .then((res) => {\r\n            if (res.data.status === 200) {\r\n              this.$message(\"成功修改\");\r\n            } else {\r\n              this.$message(res.data.msg);\r\n            }\r\n          });\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .all-background {\r\n    background-color: #f7f7f7;\r\n    top: 0px;\r\n    left: 0px;\r\n    right: 0px;\r\n    position: absolute;\r\n    min-height: 110%;\r\n  }\r\n\r\n  .el-header {\r\n    background-color: #ffffff;\r\n    line-height: 60px;\r\n  }\r\n\r\n  .el-footer {\r\n    background-color: #ffffff;\r\n    line-height: 20px;\r\n  }\r\n\r\n  .main-class {\r\n    width: 50%;\r\n    margin-left: 25%;\r\n    background-color: #ffffff;\r\n  }\r\n\r\n  .demo-table-expand {\r\n    font-size: 0;\r\n  }\r\n\r\n  .demo-table-expand label {\r\n    width: 90px;\r\n    color: #99a9bf;\r\n  }\r\n\r\n  .demo-table-expand .el-form-item {\r\n    margin-right: 0;\r\n    margin-bottom: 0;\r\n    width: 50%;\r\n  }\r\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MarkTemplate/MarkTemplate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"mark\"}},[_c('el-container',{staticClass:\"all-background\"},[_c('el-header',{staticStyle:{\"text-align\":\"left\",\"font-size\":\"20px\",\"color\":\"#ffff\"}},[_c('el-row',{staticStyle:{\"margin\":\"auto 15%\"}},[_c('HeadLine',{attrs:{\"id\":this.query}})],1)],1),_vm._v(\" \"),_c('el-main',[_c('div',{staticClass:\"main-class\"},[_c('br'),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"0.5% 3%\",\"width\":\"94%\"}},[_c('el-select',{staticStyle:{\"width\":\"48%\"},attrs:{\"placeholder\":\"请选择课程\"},model:{value:(_vm.cla),callback:function ($$v) {_vm.cla=$$v},expression:\"cla\"}},_vm._l((_vm.classes),function(item){return _c('el-option',{key:item.$index,attrs:{\"label\":item,\"value\":item}})}),1),_vm._v(\" \"),_c('el-select',{staticStyle:{\"float\":\"right\",\"width\":\"48%\"},attrs:{\"placeholder\":\"请选择Project\"},on:{\"change\":_vm.update},model:{value:(_vm.pro),callback:function ($$v) {_vm.pro=$$v},expression:\"pro\"}},_vm._l((_vm.pros[_vm.cla]),function(val,key){return _c('el-option',{key:key,attrs:{\"label\":val.name,\"value\":val.id}})}),1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"0.5% 3%\",\"width\":\"96%\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.isEdit = true}}},[_vm._v(\" 编辑 \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.toAdd}},[_vm._v(\" 添加 \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.cancelSelect}},[_vm._v(\"取消选择\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.editDone}},[_vm._v(\" 完成 \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.deleteDone}},[_vm._v(\" 删除 \")]),_vm._v(\" \"),_c('uploadTemplate',{attrs:{\"tableData\":_vm.tableData,\"cla\":_vm.cla,\"pro\":_vm.pro}})],1),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"96%\",\"margin\":\"auto 2%\"},attrs:{\"data\":_vm.tableData,\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.isEdit)?_c('div',{staticClass:\"input-box\"},[_c('el-input',{attrs:{\"size\":\"small\"},model:{value:(scope.row.name),callback:function ($$v) {_vm.$set(scope.row, \"name\", $$v)},expression:\"scope.row.name\"}})],1):_c('span',[_vm._v(_vm._s(scope.row.name))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"fullScore\",\"label\":\"总分\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.isEdit)?_c('div',{staticClass:\"input-box\"},[_c('el-input',{attrs:{\"size\":\"small\"},model:{value:(scope.row.fullScore),callback:function ($$v) {_vm.$set(scope.row, \"fullScore\", $$v)},expression:\"scope.row.fullScore\"}})],1):_c('span',[_vm._v(_vm._s(scope.row.fullScore))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"desc\",\"label\":\"描述\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.isEdit)?_c('div',{staticClass:\"input-box\"},[_c('el-input',{attrs:{\"size\":\"small\"},model:{value:(scope.row.desc),callback:function ($$v) {_vm.$set(scope.row, \"desc\", $$v)},expression:\"scope.row.desc\"}})],1):_c('span',[_vm._v(_vm._s(scope.row.desc))])]}}])})],1)],1)]),_vm._v(\" \"),_c('el-footer',[_c('page-end')],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a8d8ffc8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MarkTemplate/MarkTemplate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a8d8ffc8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MarkTemplate.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MarkTemplate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MarkTemplate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a8d8ffc8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MarkTemplate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a8d8ffc8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MarkTemplate/MarkTemplate.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}